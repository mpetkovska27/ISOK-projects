Задолжени сте да изградите едноставен систем за управување со пациенти во мала клиника.

За пациентите се чуваат:

id - int
name - string
medicalHistory - енумерирана низа на претходни дијагнози од доктори
treatmentHistory - енумерирана низа на претходни третмани од доктори
Да се дефинира апстрактна класа Doctor која содржи:

id - string
име - string
специјализација(enum, FAMILY_MEDICINE, CARDIOLOGY, NEUROLOGY, RADIOLOGY)
години искуство
список на пациенти - асоцијативна низа на пациенти каде клуч е id-то на пациентот.
Исто така потребно е да се дефинираат две класи FamilyDoctor и Specialist кои ќе наследуваат од класата Doctor.

FamilyDoctor има фиксна специјализација: FAMILY_MEDICINE, за разлика од тоа, Specialist може да има било каква специјализација.

За FamilyDoctor да се имплементира функција:

refer(Patient $patient, array $doctors, Specialization $specialization): Doctor
која го додава дадениот пациент во листата на специјалистот со најмногу искуство.

Напомена: Пациентот не смее да го има повеќе од еднаш во листата на пациентите на докторот.

Да се дефинира trait Treatable кој ќе имплементира метод:

diagnose(Patient $patient, string $diagnosis)
овозможува матичниот доктор да додаде дијагноза на пациентот.

Да се креира енумерацијата Specialization
Да се креира trait Treatable и да се имплементира функцијата diagnose
Да се имплементираат наведените класи и потребните методи за истите.
Да се креира helper функција addPatient(Patient $patient) која додава пациент во листата на докторот.
Да се креира функција printPatients() која печати листа на паценти во конзола..
Да се имплементира refer функцијата
Да се креира функција treatPatient со која специјалистите додаваат запис во историјата третмани на пациентот и го бришат од својот список на пациенти.
Стартер код за тестирање:

// Create patients
$john = new Patient(1, "John Doe");
$jane = new Patient(2, "Jane Smith");

// Create doctors
$familyDoctor = new FamilyDoctor("D001", "Dr. Brown", 12);
$cardiologist1 = new Specialist("D002", "Dr. Heart", 8, Specialization::CARDIOLOGY);
$cardiologist2 = new Specialist("D003", "Dr. Pulse", 15, Specialization::CARDIOLOGY);
$neurologist = new Specialist("D004", "Dr. Brain", 10, Specialization::NEUROLOGY);

// Add patient to family doctor
$familyDoctor->addPatient($john);
$familyDoctor->diagnose($john, 'High blood pressure');
// Print before referral
$familyDoctor->printPatients();

// Refer John to cardiologist (most experienced one)
$treatingDoctor = $familyDoctor->refer($john, [$cardiologist1, $cardiologist2, $neurologist], Specialization::CARDIOLOGY);
echo "Referred patient with id $john->id to doctor $treatingDoctor->name\n";

// Refer the same patient again (should return that patient is already referred)
$treatingDoctor = $familyDoctor->refer($john, [$cardiologist1, $cardiologist2, $neurologist], Specialization::CARDIOLOGY);

$treatingDoctor->printPatients();

if ($treatingDoctor instanceof Specialist) {
    $treatingDoctor->treatPatient($john, 'Beta-blockers');
}

// Print specialists’ patients after referral
$treatingDoctor->printPatients();

// Show John’s medical history
echo "\nMedical history of {$john->name}:\n";
foreach ($john->getMedicalHistory() as $record) {
    echo "- $record\n";
}